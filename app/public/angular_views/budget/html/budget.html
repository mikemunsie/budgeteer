<div ng-controller="views_budget_budgetController" class="views_budget">
  <div class="content">
    <div class="tabs">
      <md-tabs class="md-accent" md-selected="data.selectedIndex">
        <md-tab id="tab1" aria-controls="tab1-content">
          Summary
        </md-tab>
        <md-tab id="tab2" aria-controls="tab2-content">
          Details
        </md-tab>
      </md-tabs>
      <ng-switch on="data.selectedIndex" class="tabpanel-container">
        <div role="tabpanel" id="tab1-content" aria-labelledby="tab1" ng-switch-when="0" md-swipe-left="next()" md-swipe-right="previous()">
          <div d3pie pie-data="budgetPieData"></div>
          <div class="stats">
            <div class="stat">
              <span class="key">
                Total Salary:
              </span>
              <span class="value">
                $[[budgetService.convertToMoney(budgetService.getTotalSalary())]]
              </span>
            </div>
            <div class="stat">
              <span class="key">
                Total Bills:
              </span>
              <span class="value">
                $[[budgetService.convertToMoney(budgetService.getTotalBills())]]
              </span>
            </div>
            <div class="stat last">
              <span class="key">
                Total Savings:
              </span>
              <span class="value">
                $[[budgetService.convertToMoney(budgetService.getTotalSavings())]]
              </span>
            </div>

          </div>
        </div>
        <div role="tabpanel" id="tab2-content" aria-labelledby="tab2" ng-switch-when="1" md-swipe-left="next()" md-swipe-right="previous()">
          <md-button class="md-fab green addBudget" button-to-full-screen="#4CCF4C" transition-link="edit" icon-fill="#fff">
            <md-icon icon="/public/images/edit.svg"></md-icon>
          </md-button>
          <div class="details">
            <h2>Salary</h2>
            <div ng-show="budgetService.budgetModel.salary.length === 0">You have not entered in any salaries.</div>
            <div class="detail" ng-repeat="salary in budgetService.budgetModel.salary">
              <div class="key">
                [[salary.name]]
              </div>
              <div class="value">
                $[[budgetService.convertToMoney(salary.value)]]
              </div>
            </div>
          </div>

          <div class="details">
            <h2>Bills</h2>
            <div ng-show="budgetService.budgetModel.bills.length === 0">You have entered in any bills.</div>
            <div class="detail" ng-repeat="bill in budgetService.budgetModel.bills">
              <div class="key">
                [[bill.name]]
              </div>
              <div class="value">
                $[[budgetService.convertToMoney(bill.value)]]
              </div>
            </div>
          </div>
        </div>
      </ng-switch>
    </div>
  </div>
</div>